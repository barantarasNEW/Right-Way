"use strict";(self.webpackChunkwebpack_template=self.webpackChunkwebpack_template||[]).push([[918],{1395:function(e,t,a){var s=a(3935),n=a(5893);t.Z=()=>(0,n.jsx)(n.Fragment,{children:(0,s.createPortal)((0,n.jsxs)("div",{className:"lds-roller",children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{})]}),document.getElementById("portal-root"))})},2177:function(e,t,a){a.d(t,{db:function(){return l},l:function(){return r}});var s=a(3977),n=a(294);const r=(0,s.ZF)({apiKey:"AIzaSyDn-uSjoBt9Xb3MsYRb_nY2o0PuEXqSRcc",authDomain:"travel-auth-7b217.firebaseapp.com",projectId:"travel-auth-7b217",storageBucket:"travel-auth-7b217.appspot.com",messagingSenderId:"304864174974",appId:"1:304864174974:web:d2d7b0bbc5a99349bc492f"}),l=(0,n.ad)(r)},8696:function(e,t,a){a.d(t,{c:function(){return r}});var s=a(294),n=a(2177);const r=async e=>{const t=(0,s.JU)(n.db,"users",e);return(0,s.QT)(t).then((e=>e.data())).catch((e=>console.log(e)))}},4873:function(e,t,a){a.d(t,{C:function(){return r},T:function(){return n}});var s=a(5998);const n=s.I0,r=s.v9},4918:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var s=a(7294),n=a(9250),r=a(4184),l=a.n(r),i=a(1395),u=a(9655),o=a(9005),c=a(2177),d=a(4873),p=a(294),m=a(1088);let h=function(e){return e[e.FIRSTNAME=0]="FIRSTNAME",e[e.LASTNAME=1]="LASTNAME",e[e.EMAIL=2]="EMAIL",e[e.PASSWORD=3]="PASSWORD",e}({});var g=a(5893),v=e=>{let{setIsLoading:t}=e;const[a,n]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),[v,N]=(0,s.useState)(""),[S,j]=(0,s.useState)(""),[x,f]=(0,s.useState)([]),A=(0,d.T)(),b=(0,o.v0)(c.l);return(0,g.jsxs)("form",{className:"sign",autoComplete:"true",children:[(0,g.jsx)("input",{className:l()("input",{"input--error":x.includes(h.FIRSTNAME)}),type:"text",placeholder:"First name",autoComplete:"true",value:a,onChange:e=>n(e.target.value)}),(0,g.jsx)("input",{className:l()("input",{"input--error":x.includes(h.LASTNAME)}),type:"text",placeholder:"Last name",autoComplete:"true",value:r,onChange:e=>i(e.target.value)}),(0,g.jsx)("input",{className:l()("input",{"input--error":x.includes(h.EMAIL)}),type:"email",placeholder:"Email",autoComplete:"true",value:v,onChange:e=>N(e.target.value)}),(0,g.jsx)("input",{className:l()("input",{"input--error":x.includes(h.PASSWORD)}),type:"password",placeholder:"Password",autoComplete:"true",value:S,onChange:e=>j(e.target.value)}),(0,g.jsx)("button",{className:"btn",onClick:()=>{a.length<3?f((e=>[...e,h.FIRSTNAME])):f((e=>e.filter((e=>e!==h.FIRSTNAME)))),r.length<3?f((e=>[...e,h.LASTNAME])):f((e=>e.filter((e=>e!==h.LASTNAME)))),v.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)?f((e=>e.filter((e=>e!==h.EMAIL)))):f((e=>[...e,h.EMAIL])),S.length<6?f((e=>[...e,h.PASSWORD])):f((e=>e.filter((e=>e!==h.PASSWORD)))),x.length||(t(!0),(0,o.Xb)(b,v,S).then((e=>{A((0,m.a)({email:v,password:S,firstName:a,lastName:r})),(async(e,t)=>{try{await(0,p.pl)((0,p.JU)(c.db,"users",e),t)}catch(e){console.error("Error adding document: ",e)}})(e.user.uid,{firstName:a,lastName:r,password:S})})).catch((e=>console.log(e))).finally((()=>t(!1))))},type:"submit",children:"Sign up"}),(0,g.jsx)(u.rU,{className:"sign__link",to:"/signIn",children:"Sign in"})]})},N=a(8696),S=e=>{let{setIsLoading:t}=e;const[a,n]=(0,s.useState)(""),[r,l]=(0,s.useState)(""),i=(0,o.v0)(c.l),p=(0,d.T)();return(0,g.jsxs)("form",{className:"sign",children:[(0,g.jsx)("input",{className:"input",type:"email",placeholder:"Email",autoComplete:"true",value:a,onChange:e=>n(e.target.value)}),(0,g.jsx)("input",{className:"input",type:"password",placeholder:"Password",autoComplete:"true",value:r,onChange:e=>l(e.target.value)}),(0,g.jsx)("button",{className:"btn",onClick:()=>{t(!0),(0,o.e5)(i,a,r).then((e=>{(0,N.c)(e.user.uid).then((e=>{const t={email:a,password:r,firstName:e?.firstName,lastName:e?.lastName};p((0,m.a)(t))}))})).catch((()=>console.log("Not found user"))).finally((()=>t(!1)))},type:"submit",children:"Sign In"}),(0,g.jsx)(u.rU,{className:"sign__link",to:"/signUp",children:"Sign Up"})]})};const j=e=>l()("auth",{"auth--dis":e});var x=()=>{const[e,t]=(0,s.useState)(!1),a="/signUp"===(0,n.TH)().pathname;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("section",{className:j(e),style:{backgroundImage:"url(./img/main2.jpg)"},children:(0,g.jsx)("div",{className:"container",children:(0,g.jsxs)("div",{className:"auth__wrapper",children:[(0,g.jsxs)("h1",{className:"title auth__title",children:["Gateway to the",(0,g.jsx)("br",{}),"World"]}),a?(0,g.jsx)(v,{setIsLoading:t}):(0,g.jsx)(S,{setIsLoading:t})]})})}),e&&(0,g.jsx)(i.Z,{})]})}}}]);