"use strict";(self.webpackChunkwebpack_template=self.webpackChunkwebpack_template||[]).push([[99],{1395:function(e,t,a){var s=a(3935),n=a(5893);t.Z=()=>(0,n.jsx)(n.Fragment,{children:(0,s.createPortal)((0,n.jsxs)("div",{className:"lds-roller",children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{})]}),document.getElementById("portal-root"))})},2177:function(e,t,a){a.d(t,{db:function(){return l},l:function(){return r}});var s=a(3977),n=a(294);const r=(0,s.ZF)({apiKey:"AIzaSyDn-uSjoBt9Xb3MsYRb_nY2o0PuEXqSRcc",authDomain:"travel-auth-7b217.firebaseapp.com",projectId:"travel-auth-7b217",storageBucket:"travel-auth-7b217.appspot.com",messagingSenderId:"304864174974",appId:"1:304864174974:web:d2d7b0bbc5a99349bc492f"}),l=(0,n.ad)(r)},8696:function(e,t,a){a.d(t,{c:function(){return r}});var s=a(294),n=a(2177);const r=async e=>{const t=(0,s.JU)(n.db,"users",e);return(0,s.QT)(t).then((e=>e.data())).catch((e=>console.log(e)))}},4873:function(e,t,a){a.d(t,{C:function(){return r},T:function(){return n}});var s=a(5998);const n=s.I0,r=s.v9},4099:function(e,t,a){a.r(t),a.d(t,{default:function(){return I}});var s=a(7294),n=a(9250),r=a(4184),l=a.n(r),i=a(1395),c=a(9655),u=a(9005),o=a(2177),d=a(4873),m=a(294),p=a(1088);let h=function(e){return e[e.FIRSTNAME=0]="FIRSTNAME",e[e.LASTNAME=1]="LASTNAME",e[e.EMAIL=2]="EMAIL",e[e.PASSWORD=3]="PASSWORD",e}({});const S=(e,t)=>{switch(e){case h.EMAIL:const e=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return t.match(e);case h.PASSWORD:return t.length>=8;case h.FIRSTNAME:case h.LASTNAME:return t.length>=4;default:return}};var A=a(3935),g=a(5893),j=e=>{let{title:t}=e;const[a,n]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{const e=setTimeout((()=>{n(!1)}),2e3);return()=>clearTimeout(e)}),[n]),a?(0,g.jsx)(g.Fragment,{children:(0,A.createPortal)((0,g.jsx)("div",{className:"modal",onClick:()=>n(!1),children:(0,g.jsx)("div",{className:"modal__wrapper",onClick:e=>e.stopPropagation(),children:t})}),document.getElementById("portal-root"))}):null},N=e=>{let{setIsLoading:t,inputCn:a}=e;const r=(0,d.T)(),l=(0,u.v0)(o.l),i=(0,n.s0)(),[A,N]=(0,s.useState)(""),[x,v]=(0,s.useState)(""),[f,E]=(0,s.useState)(""),[I,b]=(0,s.useState)(""),[M,C]=(0,s.useState)([]),[L,T]=(0,s.useState)(!1),y=(e,t,a)=>{const s=e.target.value,n=S(t,s);a(s),n&&C((e=>e.filter((e=>e!==t))))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("form",{className:"sign",autoComplete:"true",onSubmit:e=>e.preventDefault(),children:[(0,g.jsx)("input",{className:a(M.includes(h.FIRSTNAME)),type:"text",placeholder:"First name",autoComplete:"true",value:A,onChange:e=>y(e,h.FIRSTNAME,N)}),(0,g.jsx)("input",{className:a(M.includes(h.LASTNAME)),type:"text",placeholder:"Last name",autoComplete:"true",value:x,onChange:e=>y(e,h.LASTNAME,v)}),(0,g.jsx)("input",{className:a(M.includes(h.EMAIL)),type:"email",placeholder:"Email",autoComplete:"true",value:f,onChange:e=>y(e,h.EMAIL,E)}),(0,g.jsx)("input",{className:a(M.includes(h.PASSWORD)),type:"password",placeholder:"Password",autoComplete:"true",value:I,onChange:e=>y(e,h.PASSWORD,b)}),(0,g.jsx)("button",{className:"btn",onClick:()=>{let e=!1;const a=S(h.EMAIL,f),s=S(h.PASSWORD,I),n=S(h.FIRSTNAME,A),c=S(h.LASTNAME,x);a||(C((e=>[...e,h.EMAIL])),e=!0),s||(C((e=>[...e,h.PASSWORD])),e=!0),n||(C((e=>[...e,h.FIRSTNAME])),e=!0),c||(C((e=>[...e,h.LASTNAME])),e=!0),e||(t(!0),(0,u.Xb)(l,f,I).then((e=>{r((0,p.a)({email:f,password:I,firstName:A,lastName:x})),(async(e,t)=>{try{await(0,m.pl)((0,m.JU)(o.db,"users",e),t)}catch(e){console.error("Error adding document: ",e)}})(e.user.uid,{firstName:A,lastName:x,password:I}),i("/")})).catch((()=>T(!0))).finally((()=>t(!1))))},disabled:!!M.length,type:"submit",children:"Sign up"}),(0,g.jsx)(c.rU,{className:"sign__link",to:"/signIn",children:"Sign in"})]}),L&&(0,g.jsx)(j,{title:"User already in use"})]})},x=a(8696),v=e=>{let{setIsLoading:t,inputCn:a}=e;const r=(0,u.v0)(o.l),l=(0,d.T)(),i=(0,n.s0)(),[m,A]=(0,s.useState)(""),[N,v]=(0,s.useState)(""),[f,E]=(0,s.useState)([]),[I,b]=(0,s.useState)(!1),M=(e,t,a)=>{const s=e.target.value,n=S(t,s);a(s),n&&E((e=>e.filter((e=>e!==t))))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("form",{className:"sign",onSubmit:e=>e.preventDefault(),children:[(0,g.jsx)("input",{className:a(f.includes(h.EMAIL)),type:"email",placeholder:"Email",autoComplete:"true",value:m,onChange:e=>M(e,h.EMAIL,A)}),(0,g.jsx)("input",{className:a(f.includes(h.PASSWORD)),type:"password",placeholder:"Password",autoComplete:"true",value:N,onChange:e=>M(e,h.PASSWORD,v)}),(0,g.jsx)("button",{className:"btn",onClick:()=>{let e=!1;const a=S(h.EMAIL,m),s=S(h.PASSWORD,N);a||(E((e=>[...e,h.EMAIL])),e=!0),s||(E((e=>[...e,h.PASSWORD])),e=!0),e||(t(!0),(0,u.e5)(r,m,N).then((e=>{(0,x.c)(e.user.uid).then((e=>{const t={email:m,password:N,firstName:e?.firstName,lastName:e?.lastName};l((0,p.a)(t)),b(!1),i("/")}))})).catch((()=>b(!0))).finally((()=>t(!1))))},type:"submit",disabled:!!f.length,children:"Sign In"}),(0,g.jsx)(c.rU,{className:"sign__link",to:"/signUp",children:"Sign Up"})]}),I&&(0,g.jsx)(j,{title:"User not found"})]})};const f=e=>l()("auth",{"auth--dis":e}),E=e=>l()("input",{error:e});var I=()=>{const[e,t]=(0,s.useState)(!1),a="/signUp"===(0,n.TH)().pathname;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("section",{className:f(e),style:{backgroundImage:"url(./img/main2.jpg)"},children:(0,g.jsx)("div",{className:"container",children:(0,g.jsxs)("div",{className:"auth__wrapper",children:[(0,g.jsxs)("h1",{className:"title auth__title",children:["Gateway to the",(0,g.jsx)("br",{}),"World"]}),a?(0,g.jsx)(N,{setIsLoading:t,inputCn:E}):(0,g.jsx)(v,{setIsLoading:t,inputCn:E})]})})}),e&&(0,g.jsx)(i.Z,{})]})}}}]);