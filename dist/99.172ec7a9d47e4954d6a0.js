"use strict";(self.webpackChunkwebpack_template=self.webpackChunkwebpack_template||[]).push([[99],{1395:function(e,t,a){var s=a(3935),n=a(5893);t.Z=()=>(0,n.jsx)(n.Fragment,{children:(0,s.createPortal)((0,n.jsxs)("div",{className:"lds-roller",children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{})]}),document.getElementById("portal-root"))})},2177:function(e,t,a){a.d(t,{db:function(){return l},l:function(){return r}});var s=a(3977),n=a(294);const r=(0,s.ZF)({apiKey:"AIzaSyDn-uSjoBt9Xb3MsYRb_nY2o0PuEXqSRcc",authDomain:"travel-auth-7b217.firebaseapp.com",projectId:"travel-auth-7b217",storageBucket:"travel-auth-7b217.appspot.com",messagingSenderId:"304864174974",appId:"1:304864174974:web:d2d7b0bbc5a99349bc492f"}),l=(0,n.ad)(r)},8696:function(e,t,a){a.d(t,{c:function(){return r}});var s=a(294),n=a(2177);const r=async e=>{const t=(0,s.JU)(n.db,"users",e);return(0,s.QT)(t).then((e=>e.data())).catch((e=>console.log(e)))}},4873:function(e,t,a){a.d(t,{C:function(){return r},T:function(){return n}});var s=a(5998);const n=s.I0,r=s.v9},4099:function(e,t,a){a.r(t),a.d(t,{default:function(){return I}});var s=a(7294),n=a(9250),r=a(4184),l=a.n(r),i=a(1395),c=a(9655),u=a(9005),o=a(2177),d=a(4873),m=a(294),p=a(1088);let h=function(e){return e[e.FIRSTNAME=0]="FIRSTNAME",e[e.LASTNAME=1]="LASTNAME",e[e.EMAIL=2]="EMAIL",e[e.PASSWORD=3]="PASSWORD",e}({});const S=(e,t)=>{switch(e){case h.EMAIL:const e=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return t.match(e);case h.PASSWORD:return t.length>=8;case h.FIRSTNAME:case h.LASTNAME:return t.length>=4;default:return}};var A=a(3935),g=a(5893),j=e=>{let{title:t}=e;const[a,n]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{const e=setTimeout((()=>{n(!1)}),2e3);return()=>clearTimeout(e)}),[n]),a?(0,g.jsx)(g.Fragment,{children:(0,A.createPortal)((0,g.jsx)("div",{className:"modal",onClick:()=>n(!1),children:(0,g.jsx)("div",{className:"modal__wrapper",onClick:e=>e.stopPropagation(),children:t})}),document.getElementById("portal-root"))}):null},N=e=>{let{setIsLoading:t,inputCn:a}=e;const n=(0,d.T)(),r=(0,u.v0)(o.l),[l,i]=(0,s.useState)(""),[A,N]=(0,s.useState)(""),[x,v]=(0,s.useState)(""),[f,E]=(0,s.useState)(""),[I,b]=(0,s.useState)([]),[M,C]=(0,s.useState)(!1),L=(e,t,a)=>{const s=e.target.value,n=S(t,s);a(s),n&&b((e=>e.filter((e=>e!==t))))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("form",{className:"sign",autoComplete:"true",onSubmit:e=>e.preventDefault(),children:[(0,g.jsx)("input",{className:a(I.includes(h.FIRSTNAME)),type:"text",placeholder:"First name",autoComplete:"true",value:l,onChange:e=>L(e,h.FIRSTNAME,i)}),(0,g.jsx)("input",{className:a(I.includes(h.LASTNAME)),type:"text",placeholder:"Last name",autoComplete:"true",value:A,onChange:e=>L(e,h.LASTNAME,N)}),(0,g.jsx)("input",{className:a(I.includes(h.EMAIL)),type:"email",placeholder:"Email",autoComplete:"true",value:x,onChange:e=>L(e,h.EMAIL,v)}),(0,g.jsx)("input",{className:a(I.includes(h.PASSWORD)),type:"password",placeholder:"Password",autoComplete:"true",value:f,onChange:e=>L(e,h.PASSWORD,E)}),(0,g.jsx)("button",{className:"btn",onClick:()=>{let e=!1;const a=S(h.EMAIL,x),s=S(h.PASSWORD,f),i=S(h.FIRSTNAME,l),c=S(h.LASTNAME,A);a||(b((e=>[...e,h.EMAIL])),e=!0),s||(b((e=>[...e,h.PASSWORD])),e=!0),i||(b((e=>[...e,h.FIRSTNAME])),e=!0),c||(b((e=>[...e,h.LASTNAME])),e=!0),e||(t(!0),(0,u.Xb)(r,x,f).then((e=>{n((0,p.a)({email:x,password:f,firstName:l,lastName:A})),(async(e,t)=>{try{await(0,m.pl)((0,m.JU)(o.db,"users",e),t)}catch(e){console.error("Error adding document: ",e)}})(e.user.uid,{firstName:l,lastName:A,password:f})})).catch((()=>C(!0))).finally((()=>t(!1))))},disabled:!!I.length,type:"submit",children:"Sign up"}),(0,g.jsx)(c.rU,{className:"sign__link",to:"/signIn",children:"Sign in"})]}),M&&(0,g.jsx)(j,{title:"User already in use"})]})},x=a(8696),v=e=>{let{setIsLoading:t,inputCn:a}=e;const n=(0,u.v0)(o.l),r=(0,d.T)(),[l,i]=(0,s.useState)(""),[m,A]=(0,s.useState)(""),[N,v]=(0,s.useState)([]),[f,E]=(0,s.useState)(!1),I=(e,t,a)=>{const s=e.target.value,n=S(t,s);a(s),n&&v((e=>e.filter((e=>e!==t))))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("form",{className:"sign",onSubmit:e=>e.preventDefault(),children:[(0,g.jsx)("input",{className:a(N.includes(h.EMAIL)),type:"email",placeholder:"Email",autoComplete:"true",value:l,onChange:e=>I(e,h.EMAIL,i)}),(0,g.jsx)("input",{className:a(N.includes(h.PASSWORD)),type:"password",placeholder:"Password",autoComplete:"true",value:m,onChange:e=>I(e,h.PASSWORD,A)}),(0,g.jsx)("button",{className:"btn",onClick:()=>{let e=!1;const a=S(h.EMAIL,l),s=S(h.PASSWORD,m);a||(v((e=>[...e,h.EMAIL])),e=!0),s||(v((e=>[...e,h.PASSWORD])),e=!0),e||(t(!0),(0,u.e5)(n,l,m).then((e=>{(0,x.c)(e.user.uid).then((e=>{const t={email:l,password:m,firstName:e?.firstName,lastName:e?.lastName};r((0,p.a)(t)),E(!1)}))})).catch((()=>E(!0))).finally((()=>t(!1))))},type:"submit",disabled:!!N.length,children:"Sign In"}),(0,g.jsx)(c.rU,{className:"sign__link",to:"/signUp",children:"Sign Up"})]}),f&&(0,g.jsx)(j,{title:"User not found"})]})};const f=e=>l()("auth",{"auth--dis":e}),E=e=>l()("input",{error:e});var I=()=>{const[e,t]=(0,s.useState)(!1),a="/signUp"===(0,n.TH)().pathname;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("section",{className:f(e),style:{backgroundImage:"url(./img/main2.jpg)"},children:(0,g.jsx)("div",{className:"container",children:(0,g.jsxs)("div",{className:"auth__wrapper",children:[(0,g.jsxs)("h1",{className:"title auth__title",children:["Gateway to the",(0,g.jsx)("br",{}),"World"]}),a?(0,g.jsx)(N,{setIsLoading:t,inputCn:E}):(0,g.jsx)(v,{setIsLoading:t,inputCn:E})]})})}),e&&(0,g.jsx)(i.Z,{})]})}}}]);