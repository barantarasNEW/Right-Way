"use strict";(self.webpackChunkwebpack_template=self.webpackChunkwebpack_template||[]).push([[771],{2177:function(e,a,s){s.d(a,{db:function(){return r},l:function(){return l}});var t=s(3977),n=s(294);const l=(0,t.ZF)({apiKey:"AIzaSyDn-uSjoBt9Xb3MsYRb_nY2o0PuEXqSRcc",authDomain:"travel-auth-7b217.firebaseapp.com",projectId:"travel-auth-7b217",storageBucket:"travel-auth-7b217.appspot.com",messagingSenderId:"304864174974",appId:"1:304864174974:web:d2d7b0bbc5a99349bc492f"}),r=(0,n.ad)(l)},4873:function(e,a,s){s.d(a,{C:function(){return l},T:function(){return n}});var t=s(5998);const n=t.I0,l=t.v9},9771:function(e,a,s){s.r(a),s.d(a,{default:function(){return m}});var t=s(7294),n=s(9250),l=s(9005),r=s(4873),i=s(1088),c=s(294),u=s(2177),d=s(1395),o=s(5893),m=()=>{const e=(0,r.C)((e=>e.user.user)),a=(0,r.T)(),[s,m]=(0,t.useState)(e.firstName),[p,b]=(0,t.useState)(e.lastName),[h,v]=(0,t.useState)(e.email),[N,x]=(0,t.useState)(e.password),[g,j]=(0,t.useState)(!1),[_,f]=(0,t.useState)(!1),w=(0,l.v0)(),C=(0,n.s0)(),S=()=>{f(!0),(0,l.w7)(w).then((()=>{a((0,i.av)({firstName:"",lastName:"",password:"",email:""})),a((0,i.vX)(!1)),C("/signIn")})).catch((e=>{console.log(e)})).finally((()=>f(!1)))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("section",{className:"user",children:(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:"user__wrapper",children:[(0,o.jsx)("button",{className:"user__sign-out",onClick:S,children:(0,o.jsx)("img",{className:"user__icon",src:"./img/svg/exit.svg",alt:"icon"})}),(0,o.jsxs)("div",{className:"user__input-wrapper",children:[(0,o.jsxs)("label",{className:"user__label",children:["First name",(0,o.jsx)("input",{className:"input",type:"text",value:s,onChange:e=>m(e.target.value),disabled:!g})]}),(0,o.jsxs)("label",{className:"user__label",children:["Last name",(0,o.jsx)("input",{className:"input",type:"text",value:p,onChange:e=>b(e.target.value),disabled:!g})]}),(0,o.jsxs)("label",{className:"user__label",children:["Email",(0,o.jsx)("input",{className:"input",type:"email",value:h,onChange:e=>v(e.target.value),disabled:!g})]}),(0,o.jsxs)("label",{className:"user__label",children:["Password",(0,o.jsx)("input",{className:"input",type:"password",value:N,onChange:e=>x(e.target.value),disabled:!g})]})]}),(0,o.jsxs)("div",{className:"user__btns",children:[g&&(0,o.jsx)("button",{className:"btn",onClick:async()=>{if(f(!0),w.currentUser){let a;h!==e.email&&(a=!0),N!==e.password&&(a=!0),e.firstName===s&&e.lastName===p&&N===e.password||await async function(e,a){const s=(0,c.JU)(u.db,"users",e);await(0,c.r7)(s,{...a})}(w.currentUser.uid,{firstName:s,lastName:p,password:N}),a&&(await(0,l.s)(w.currentUser,h),await(0,l.gQ)(w.currentUser,N),S())}j(!1),f(!1)},children:"Save"}),(0,o.jsx)("button",{className:"btn",onClick:()=>j(!0),disabled:g,children:"Change"})]})]})})}),_&&(0,o.jsx)(d.Z,{})]})}}}]);